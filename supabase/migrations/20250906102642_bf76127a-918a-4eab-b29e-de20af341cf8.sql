-- Insert invoices with proper customer linking using customer names
INSERT INTO public.invoices (reference, customer_id, issue_date, invoice_amount, balance_due, days_to_due_date, days_overdue, status) VALUES
('20202611', (SELECT id FROM customers WHERE name = 'Madidi Property Management' LIMIT 1), '2025-09-02', 1362.75, 0.00, NULL, NULL, 'Paid'),
('20202610', (SELECT id FROM customers WHERE name = 'TECHLOGIX' LIMIT 1), '2025-09-01', 287.50, 287.50, 2, NULL, 'Unpaid'),
('20202609', (SELECT id FROM customers WHERE name = 'Madidi Property Management' LIMIT 1), '2025-09-01', 2216.05, 0.00, NULL, NULL, 'Paid'),
('20202608', (SELECT id FROM customers WHERE name = 'KHAYA LAMI TRAVEL AND TOURS' LIMIT 1), '2025-08-31', 1536.40, 0.00, NULL, NULL, 'Paid'),
('20202607', (SELECT id FROM customers WHERE name = 'FEZEKA CIVIL ENGINEERING AND CONSTRUCTION' LIMIT 1), '2025-08-26', 707.25, 0.00, NULL, NULL, 'Paid'),
('20202606', (SELECT id FROM customers WHERE name = 'NSIBANDE MHURI TRADING AND PROJEC' LIMIT 1), '2025-08-26', 0.00, 0.00, NULL, NULL, 'Paid'),
('20202604', (SELECT id FROM customers WHERE name = 'Sembo Collective' LIMIT 1), '2025-08-01', 678.50, 0.00, NULL, NULL, 'Paid'),
('20202603', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-07-31', 207.00, 0.00, NULL, NULL, 'Paid'),
('20202602', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-07-23', 1081.00, 0.00, NULL, NULL, 'Paid'),
('20202601', (SELECT id FROM customers WHERE name = 'JO CHILOANE' LIMIT 1), '2025-07-23', 2680.98, 0.00, NULL, NULL, 'Paid'),
('20202600', (SELECT id FROM customers WHERE name = 'NATHAN N NYANGUWO MEDICAL ORTHOTIST AND PROSTHETIST' LIMIT 1), '2025-07-22', 3448.85, 0.00, NULL, NULL, 'Paid'),
('20202599', (SELECT id FROM customers WHERE name = 'Sthuthamagade Trading and Projects Cc' LIMIT 1), '2025-07-16', 1046.50, 0.00, NULL, NULL, 'Paid'),
('20202598', (SELECT id FROM customers WHERE name = 'NATHAN N NYANGUWO MEDICAL ORTHOTIST AND PROSTHETIST' LIMIT 1), '2025-06-27', 4896.15, 0.00, NULL, NULL, 'Paid'),
('20202597', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2025-06-27', 920.00, -10.00, NULL, NULL, 'Overpaid'),
('20202596', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-06-27', 695.75, 0.00, NULL, NULL, 'Paid'),
('20202595', (SELECT id FROM customers WHERE name = 'TECHLOGIX' LIMIT 1), '2025-06-20', 2978.50, 2978.50, NULL, 47, 'Overdue'),
('20202594', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2025-06-03', 345.00, 345.00, NULL, 88, 'Overdue'),
('20202592', (SELECT id FROM customers WHERE name = 'Global Business Solutions' LIMIT 1), '2025-05-29', 8162.70, 162.70, NULL, 93, 'Overdue'),
('20202591', (SELECT id FROM customers WHERE name = 'SSL PROJECTS AND SUPPLY' LIMIT 1), '2025-05-28', 678.50, 814.20, NULL, 94, 'Overdue'),
('20202589', (SELECT id FROM customers WHERE name = 'Global Business Solutions' LIMIT 1), '2025-05-20', 5750.00, 5750.00, NULL, 102, 'Overdue'),
('20202590', (SELECT id FROM customers WHERE name = 'Global Business Solutions' LIMIT 1), '2025-05-12', 24584.70, 12299.35, NULL, 110, 'Overdue'),
('20202593', (SELECT id FROM customers WHERE name = 'Sembo Collective' LIMIT 1), '2025-04-03', 1138.50, 0.00, NULL, NULL, 'Paid'),
('20202588', (SELECT id FROM customers WHERE name = 'Suzan Ramapulane' LIMIT 1), '2025-03-25', 9093.05, 1621.86, NULL, 158, 'Overdue'),
('20202605', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2025-03-13', 1437.50, 3325.91, NULL, 170, 'Overdue'),
('20202587', (SELECT id FROM customers WHERE name = 'THE NEW ST SAMPSON APOSTOLIC CHURCH' LIMIT 1), '2025-03-11', 661.25, 661.25, NULL, 172, 'Overdue'),
('20202586', (SELECT id FROM customers WHERE name = 'THOKOZA NHLANHLA INVESTMENTS' LIMIT 1), '2025-03-03', 2921.00, 2921.00, NULL, 180, 'Overdue'),
('20202585', (SELECT id FROM customers WHERE name = 'PRETTY HOPE SMITH' LIMIT 1), '2025-03-03', 115.00, 0.00, NULL, NULL, 'Paid'),
('20202584', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2025-03-02', 115.00, 15.00, NULL, 181, 'Overdue'),
('20202583', (SELECT id FROM customers WHERE name = 'NTANDOSE TRADING AND PROJECTS' LIMIT 1), '2025-02-28', 999.99, 0.00, NULL, NULL, 'Paid'),
('20202582', (SELECT id FROM customers WHERE name = 'THOKOZA NHLANHLA INVESTMENTS' LIMIT 1), '2025-02-28', 1426.00, 0.00, NULL, NULL, 'Paid'),
('20202581', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2025-02-24', 669.50, -2100.43, NULL, NULL, 'Overpaid'),
('20202580', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-02-20', 1000.00, 0.00, NULL, NULL, 'Paid'),
('20202579', (SELECT id FROM customers WHERE name = 'YOWGATY' LIMIT 1), '2025-02-17', 490.00, 440.80, NULL, 194, 'Overdue'),
('20202578', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-02-10', 1000.00, -150.00, NULL, NULL, 'Overpaid'),
('20202577', (SELECT id FROM customers WHERE name = 'SIPHALI' LIMIT 1), '2025-01-30', 2078.00, -311.70, NULL, NULL, 'Overpaid'),
('20202576', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-01-28', 1387.98, 737.98, NULL, 214, 'Overdue'),
('20202575', (SELECT id FROM customers WHERE name = 'ORIS POULTRY AND GENERAL TRADING' LIMIT 1), '2025-01-17', 1369.00, 0.00, NULL, NULL, 'Paid'),
('20202574', (SELECT id FROM customers WHERE name = 'MDALUKWANE PROJECTS ENTERPRISE' LIMIT 1), '2025-01-08', 490.00, -73.50, NULL, NULL, 'Overpaid'),
('20202573', (SELECT id FROM customers WHERE name = 'NSIBANDE MHURI TRADING AND PROJEC' LIMIT 1), '2025-01-07', 350.00, -52.50, NULL, NULL, 'Overpaid'),
('20202572', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2025-01-05', 579.00, -86.85, NULL, NULL, 'Overpaid'),
('20202571', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-12-24', 1000.00, -150.00, NULL, NULL, 'Overpaid'),
('20202570', (SELECT id FROM customers WHERE name = 'Surprise Tuckshop & General' LIMIT 1), '2024-11-27', 474.00, 128.14, NULL, 276, 'Overdue'),
('20202569', (SELECT id FROM customers WHERE name = 'AZALE COMMUNICATIONS (PTY) LTD' LIMIT 1), '2024-11-22', 3250.00, 0.00, NULL, NULL, 'Paid'),
('20202568', (SELECT id FROM customers WHERE name = 'Refithile Agency' LIMIT 1), '2024-11-18', 840.00, 0.00, NULL, NULL, 'Paid'),
('20202567', (SELECT id FROM customers WHERE name = 'Refithile Agency' LIMIT 1), '2024-11-18', 660.00, 0.00, NULL, NULL, 'Paid'),
('20202566', (SELECT id FROM customers WHERE name = 'MDALUKWANE PROJECTS ENTERPRISE' LIMIT 1), '2024-11-08', 740.00, -111.00, NULL, NULL, 'Overpaid'),
('20202565', (SELECT id FROM customers WHERE name = 'JO CHILOANE' LIMIT 1), '2024-11-07', 48179.19, 23179.19, NULL, 296, 'Overdue'),
('20202564', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-10-29', 180.00, -27.00, NULL, NULL, 'Overpaid'),
('20202563', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-10-24', 600.00, 36.50, NULL, 310, 'Overdue'),
('20202562', (SELECT id FROM customers WHERE name = 'FEZEKA CIVIL ENGINEERING AND CONSTRUCTION' LIMIT 1), '2024-10-08', 684.83, 0.00, NULL, NULL, 'Paid'),
('20202561', (SELECT id FROM customers WHERE name = 'JAMA KAMNISI TRADING AND PROJECTS' LIMIT 1), '2024-10-04', 563.50, 0.00, NULL, NULL, 'Paid'),
('20202559', (SELECT id FROM customers WHERE name = 'FREESTYLE KITCHEN AND CATERING' LIMIT 1), '2024-10-01', 690.00, 0.00, NULL, NULL, 'Paid'),
('20202558', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-09-30', 517.50, 0.00, NULL, NULL, 'Paid'),
('20202557', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-09-30', 897.00, -17.50, NULL, NULL, 'Overpaid'),
('20202560', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-09-25', 1707.75, 0.00, NULL, NULL, 'Paid'),
('INV-20202553', (SELECT id FROM customers WHERE name = 'THOKOZA SIYAVUMA CONSTRUCTION AND PROJECTS' LIMIT 1), '2024-09-20', 1320.00, 10.00, NULL, 345, 'Overdue'),
('20202556', (SELECT id FROM customers WHERE name = 'MANYUNYU LOGISTICS' LIMIT 1), '2024-09-20', 633.00, 0.00, NULL, NULL, 'Paid'),
('20202554', (SELECT id FROM customers WHERE name = 'Refithile Agency' LIMIT 1), '2024-09-20', 609.50, 0.00, NULL, NULL, 'Paid'),
('INV-20202549', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-08-24', 563.50, -563.50, NULL, NULL, 'Overpaid'),
('INV-20202548', (SELECT id FROM customers WHERE name = 'Chulumanco Lilitha' LIMIT 1), '2024-08-20', 1470.00, -500.00, NULL, NULL, 'Overpaid'),
('20202555', (SELECT id FROM customers WHERE name = 'MABS MEDIA AGENCY' LIMIT 1), '2024-07-25', 1884.00, 5875.20, NULL, 401, 'Overdue')
ON CONFLICT (reference) DO NOTHING;
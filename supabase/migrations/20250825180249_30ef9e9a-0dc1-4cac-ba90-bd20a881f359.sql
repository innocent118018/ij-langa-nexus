
-- Insert invoice data
INSERT INTO invoices (reference, customer_id, issue_date, invoice_amount, balance_due, days_to_due_date, days_overdue, status, created_at, updated_at) 
SELECT 
  inv_data.reference,
  c.id as customer_id,
  inv_data.issue_date,
  inv_data.invoice_amount,
  inv_data.balance_due,
  inv_data.days_to_due_date,
  inv_data.days_overdue,
  inv_data.status,
  NOW(),
  NOW()
FROM (VALUES
  ('20202604', 'Sembo Collective', '2025-08-01', 678.50, 0.00, NULL, NULL, 'Paid in full'),
  ('20202603', 'Chulumanco Lilitha', '2025-07-31', 207.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202602', 'Chulumanco Lilitha', '2025-07-23', 1081.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202601', 'JO CHILOANE', '2025-07-23', 2680.98, 0.00, NULL, NULL, 'Paid in full'),
  ('20202600', 'NATHAN N NYANGUWO MEDICAL ORTHOTIST AND PROSTHETIST', '2025-07-22', 3448.85, 0.00, NULL, NULL, 'Paid in full'),
  ('20202599', 'Sthuthamagade Trading and Projects Cc', '2025-07-16', 1046.50, 0.00, NULL, NULL, 'Paid in full'),
  ('20202598', 'NATHAN N NYANGUWO MEDICAL ORTHOTIST AND PROSTHETIST', '2025-06-27', 4896.15, 0.00, NULL, NULL, 'Paid in full'),
  ('20202597', 'JAMA KAMNISI TRADING AND PROJECTS', '2025-06-27', 920.00, -10.00, NULL, NULL, 'Overpaid'),
  ('20202596', 'Chulumanco Lilitha', '2025-06-27', 695.75, 0.00, NULL, NULL, 'Paid in full'),
  ('20202595', 'TECHLOGIX', '2025-06-20', 2978.50, 2978.50, NULL, 35, 'Overdue'),
  ('20202594', 'JAMA KAMNISI TRADING AND PROJECTS', '2025-06-03', 345.00, 345.00, NULL, 76, 'Overdue'),
  ('20202592', 'Global Business Solutions', '2025-05-29', 8162.70, 162.70, NULL, 81, 'Overdue'),
  ('20202589', 'Global Business Solutions', '2025-05-20', 5750.00, 5750.00, NULL, 90, 'Overdue'),
  ('20202590', 'Global Business Solutions', '2025-05-12', 24584.70, 12299.35, NULL, 98, 'Overdue'),
  ('20202593', 'Sembo Collective', '2025-04-03', 1138.50, 0.00, NULL, NULL, 'Paid in full'),
  ('20202588', 'Suzan Ramapulane', '2025-03-25', 9093.05, 1621.86, NULL, 146, 'Overdue'),
  ('20202605', 'JAMA KAMNISI TRADING AND PROJECTS', '2025-03-13', 1437.50, 3325.91, NULL, 158, 'Overdue'),
  ('20202587', 'THE NEW ST SAMPSON APOSTOLIC CHURCH', '2025-03-11', 661.25, 661.25, NULL, 160, 'Overdue'),
  ('20202586', 'THOKOZA NHLANHLA INVESTMENTS', '2025-03-03', 2921.00, 2921.00, NULL, 168, 'Overdue'),
  ('20202585', 'PRETTY HOPE SMITH', '2025-03-03', 115.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202584', 'JAMA KAMNISI TRADING AND PROJECTS', '2025-03-02', 115.00, 15.00, NULL, 169, 'Overdue'),
  ('20202583', 'NTANDOSE TRADING AND PROJECTS', '2025-02-28', 999.99, 0.00, NULL, NULL, 'Paid in full'),
  ('20202582', 'THOKOZA NHLANHLA INVESTMENTS', '2025-02-28', 1426.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202581', 'JAMA KAMNISI TRADING AND PROJECTS', '2025-02-24', 669.50, -2100.43, NULL, NULL, 'Overpaid'),
  ('20202580', 'Chulumanco Lilitha', '2025-02-20', 1000.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202579', 'YOWGATY', '2025-02-17', 490.00, 940.80, NULL, 182, 'Overdue'),
  ('20202578', 'Chulumanco Lilitha', '2025-02-10', 1000.00, -150.00, NULL, NULL, 'Overpaid'),
  ('20202577', 'SIPHALI', '2025-01-30', 2078.00, -311.70, NULL, NULL, 'Overpaid'),
  ('20202576', 'Chulumanco Lilitha', '2025-01-28', 1387.98, 737.98, NULL, 202, 'Overdue'),
  ('20202575', 'ORIS POULTRY AND GENERAL TRADING', '2025-01-17', 1369.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202574', 'MDALUKWANE PROJECTS ENTERPRISE', '2025-01-08', 490.00, -73.50, NULL, NULL, 'Overpaid'),
  ('20202573', 'NSIBANDE MHURI TRADING AND PROJEC', '2025-01-07', 350.00, -52.50, NULL, NULL, 'Overpaid'),
  ('20202572', 'Chulumanco Lilitha', '2025-01-05', 579.00, -86.85, NULL, NULL, 'Overpaid'),
  ('20202571', 'Chulumanco Lilitha', '2024-12-24', 1000.00, -150.00, NULL, NULL, 'Overpaid'),
  ('20202570', 'Surprise Tuckshop & General', '2024-11-27', 474.00, 128.14, NULL, 264, 'Overdue'),
  ('20202569', 'AZALE COMMUNICATIONS (PTY) LTD', '2024-11-22', 3250.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202568', 'Refithile Agency', '2024-11-18', 840.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202567', 'Refithile Agency', '2024-11-18', 660.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202566', 'MDALUKWANE PROJECTS ENTERPRISE', '2024-11-08', 740.00, -111.00, NULL, NULL, 'Overpaid'),
  ('20202565', 'JO CHILOANE', '2024-11-07', 48179.19, 23179.19, NULL, 284, 'Overdue'),
  ('20202564', 'Chulumanco Lilitha', '2024-10-29', 180.00, -27.00, NULL, NULL, 'Overpaid'),
  ('20202563', 'Chulumanco Lilitha', '2024-10-24', 600.00, 36.50, NULL, 298, 'Overdue'),
  ('20202562', 'FEZEKA CIVIL ENGINEERING AND CONSTRUCTION', '2024-10-08', 684.83, 0.00, NULL, NULL, 'Paid in full'),
  ('20202561', 'JAMA KAMNISI TRADING AND PROJECTS', '2024-10-04', 563.50, 13.50, NULL, 318, 'Overdue'),
  ('20202559', 'FREESTYLE  KITCHEN AND CATERING', '2024-10-01', 690.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202558', 'Chulumanco Lilitha', '2024-09-30', 517.50, 0.00, NULL, NULL, 'Paid in full'),
  ('20202557', 'Chulumanco Lilitha', '2024-09-30', 897.00, -17.50, NULL, NULL, 'Overpaid'),
  ('20202560', 'Chulumanco Lilitha', '2024-09-25', 1707.75, 0.00, NULL, NULL, 'Paid in full'),
  ('INV-20202553', 'THOKOZA SIYAVUMA CONSTRUCTION AND PROJECTS', '2024-09-20', 1320.00, 10.00, NULL, 333, 'Overdue'),
  ('20202556', 'MANYUNYU LOGISTICS', '2024-09-20', 633.00, 0.00, NULL, NULL, 'Paid in full'),
  ('20202554', 'Refithile Agency', '2024-09-20', 609.50, 0.00, NULL, NULL, 'Paid in full'),
  ('INV-20202549', 'Chulumanco Lilitha', '2024-08-24', 563.50, -563.50, NULL, NULL, 'Overpaid'),
  ('INV-20202548', 'Chulumanco Lilitha', '2024-08-20', 1470.00, -500.00, NULL, NULL, 'Overpaid'),
  ('20202555', 'MABS MEDIA AGENCY', '2024-07-25', 1884.00, 5875.20, NULL, 389, 'Overdue'),
  ('20202591', 'SSL PROJECTS AND SUPPLY', '2025-05-28', 678.50, 814.20, NULL, 82, 'Overdue')
) AS inv_data(reference, customer_name, issue_date, invoice_amount, balance_due, days_to_due_date, days_overdue, status)
LEFT JOIN customers c ON c.name = inv_data.customer_name
ON CONFLICT (reference) DO NOTHING;

-- Insert customer data if they don't exist
INSERT INTO customers (name, accounts_receivable, status, created_at, updated_at)
VALUES
  ('Agriculture, Rural Development Land & Environmental Affairs', 0.00, 'Paid', NOW(), NOW()),
  ('ALFA MUHY AUTO SPRAY PAINTING AND PANELBEATING', 0.00, 'Paid', NOW(), NOW()),
  ('Alinda Jacob Jr', 0.00, 'Paid', NOW(), NOW()),
  ('AZALE COMMUNICATIONS (PTY) LTD', 0.00, 'Paid', NOW(), NOW()),
  ('BATHO BAKOPANO DISABLED COMPOSED WAIST', 0.00, 'Paid', NOW(), NOW()),
  ('CHIEF EXECUTIVE OFFICER  SOUTH AFRICAN NATIONAL ROADS AGENCY SOC LIMITED', 0.00, 'Paid', NOW(), NOW()),
  ('Chulumanco Lilitha', -720.37, 'Overpaid', NOW(), NOW()),
  ('Department of Public Works,Road And Transport', 0.00, 'Paid', NOW(), NOW()),
  ('ENTHA MEDIA', 0.00, 'Paid', NOW(), NOW()),
  ('ESKOM ROTEK INDUSTRIES 4230', 0.00, 'Paid', NOW(), NOW()),
  ('FIKILE KUYENZEKA KUNGUMUSA', 0.00, 'Paid', NOW(), NOW()),
  ('FREESTYLE  KITCHEN AND CATERING', 0.00, 'Paid', NOW(), NOW()),
  ('Gauteng Department of e-Government', 0.00, 'Paid', NOW(), NOW()),
  ('George  munyonga', 0.00, 'Paid', NOW(), NOW()),
  ('Given', 0.00, 'Paid', NOW(), NOW()),
  ('Global Business Solutions', 18212.05, 'Unpaid', NOW(), NOW()),
  ('Highveld Worship Center', 0.00, 'Paid', NOW(), NOW()),
  ('JAMA KAMNISI TRADING AND PROJECTS', 1588.98, 'Unpaid', NOW(), NOW()),
  ('JO CHILOANE', 23179.19, 'Unpaid', NOW(), NOW()),
  ('kuthele civil engineering and construction pty ltd', 0.00, 'Paid', NOW(), NOW()),
  ('M C MOTAU TRADING', 0.00, 'Paid', NOW(), NOW()),
  ('MABS MEDIA AGENCY', 5875.20, 'Unpaid', NOW(), NOW()),
  ('MANYUNYU LOGISTICS', 0.00, 'Paid', NOW(), NOW()),
  ('MDALUKWANE PROJECTS ENTERPRISE', -184.50, 'Overpaid', NOW(), NOW()),
  ('MOHAUMOLUTSI CIVIL WORKS', 0.00, 'Paid', NOW(), NOW()),
  ('Mr MTHOBISI DERRICK XABA', 0.00, 'Paid', NOW(), NOW()),
  ('Msukaligwa Local Municipality', 0.00, 'Paid', NOW(), NOW()),
  ('Musawenkosi Msibi', 0.00, 'Paid', NOW(), NOW()),
  ('NATHAN N NYANGUWO MEDICAL ORTHOTIST AND PROSTHETIST', 0.00, 'Paid', NOW(), NOW()),
  ('NKUDU TRADING', 0.00, 'Paid', NOW(), NOW()),
  ('NKUYAHAE HOLDINGS (PTY)LTD', 0.00, 'Paid', NOW(), NOW()),
  ('NSIBANDE MHURI TRADING AND PROJEC', -52.50, 'Overpaid', NOW(), NOW()),
  ('NTANDOSE TRADING AND PROJECTS', 0.00, 'Paid', NOW(), NOW()),
  ('OFENTSE SAMUEL MALAPANE', 0.00, 'Paid', NOW(), NOW()),
  ('OLEBILE BUSINESS ENTERPRISES (PTY) LTD', 0.00, 'Paid', NOW(), NOW()),
  ('ORIS POULTRY AND GENERAL TRADING', 0.00, 'Paid', NOW(), NOW()),
  ('PRETTY HOPE SMITH', 0.00, 'Paid', NOW(), NOW()),
  ('PROJECTS MANAGEMENT UNIT (PTY) LTD', 0.00, 'Paid', NOW(), NOW()),
  ('REDEEM GROUP', 0.00, 'Paid', NOW(), NOW()),
  ('Refithile Agency', -0.70, 'Overpaid', NOW(), NOW()),
  ('SANDICO ENTERPRISE', 0.00, 'Paid', NOW(), NOW()),
  ('SBONGIMPILENDE', 0.00, 'Paid', NOW(), NOW()),
  ('Sembo Collective', 0.00, 'Paid', NOW(), NOW()),
  ('SHAKWANENG BUSINESS ENTERPRISE', 0.00, 'Paid', NOW(), NOW()),
  ('Sibongile Molefi', 0.00, 'Paid', NOW(), NOW()),
  ('SILVER STEIN', 0.00, 'Paid', NOW(), NOW()),
  ('SIPHALI', -311.70, 'Overpaid', NOW(), NOW()),
  ('SP NGOBESE', 0.00, 'Paid', NOW(), NOW()),
  ('SSL PROJECTS AND SUPPLY', 814.20, 'Unpaid', NOW(), NOW()),
  ('STARLITE EDUCATORS', 0.00, 'Paid', NOW(), NOW()),
  ('Sthuthamagade Trading and Projects Cc', 0.00, 'Paid', NOW(), NOW()),
  ('Surprise Tuckshop & General', 128.14, 'Unpaid', NOW(), NOW()),
  ('Suzan Ramapulane', 1621.86, 'Unpaid', NOW(), NOW()),
  ('TECHLOGIX', 2978.50, 'Unpaid', NOW(), NOW()),
  ('THE LINK GROUP', 0.00, 'Paid', NOW(), NOW()),
  ('THE NEW ST SAMPSON APOSTOLIC CHURCH', 661.25, 'Unpaid', NOW(), NOW()),
  ('THOKOZA NHLANHLA INVESTMENTS', 2921.00, 'Unpaid', NOW(), NOW()),
  ('THOKOZA SIYAVUMA CONSTRUCTION AND PROJECTS', 10.00, 'Unpaid', NOW(), NOW()),
  ('TSANTSABANE ENGINEERING SOLUTION PTY LTD', 0.00, 'Paid', NOW(), NOW()),
  ('VILLAGE CINEMA LINE', 0.00, 'Paid', NOW(), NOW()),
  ('Vusisizwe Self Help And Projects', 0.00, 'Paid', NOW(), NOW()),
  ('WILINGA TRADING (PTY) LTD', 0.00, 'Paid', NOW(), NOW()),
  ('YOWGATY', 940.80, 'Unpaid', NOW(), NOW()),
  ('DESIREE NOLWAZI LUTHULI', 0.00, 'Paid', NOW(), NOW()),
  ('FEZEKA CIVIL ENGINEERING AND CONSTRUCTION', 0.00, 'Paid', NOW(), NOW()),
  ('Joseph Innocent Langa', 0.00, 'Paid', NOW(), NOW())
ON CONFLICT (name) DO UPDATE SET 
  accounts_receivable = EXCLUDED.accounts_receivable,
  status = EXCLUDED.status,
  updated_at = EXCLUDED.updated_at;

-- Insert notification data
INSERT INTO notifications (user_id, title, message, type, sent_at, is_read, created_at)
SELECT 
  u.id as user_id,
  notif_data.subject as title,
  CONCAT('Email sent to ', notif_data.recipient, ' at ', notif_data.timestamp) as message,
  'email' as type,
  notif_data.sent_at,
  false as is_read,
  notif_data.sent_at as created_at
FROM (VALUES
  ('2025-08-06 17:54:54', 'sfisongobese530@gmail.com', 'Quotation #2020752726 â€“ Valid Until 8/13/2025'),
  ('2025-08-05 04:22:27', 'info@globalbusinessolutions.co.za', 'Quotation #[2020752725] â€“ Valid Until 8/12/2025'),
  ('2025-07-31 13:38:37', 'muneiyowgaty@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:37:41', 'banzizulu@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:37:22', 'motla.ramapulane@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:35:48', 'mabiletsathabang@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:28:06', 'chiloaneoscar16@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:20:35', 'mvelasenkonzo@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:19:54', 'info@globalbusinessolutions.co.za', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)'),
  ('2025-07-31 13:19:00', 'songo.m@gmail.com', 'ðŸ“„ Monthly Statement & Payment Reminder from Ij Langa Consulting (FSP 14279)')
) AS notif_data(timestamp, recipient, subject)
LEFT JOIN users u ON u.email = notif_data.recipient
WHERE u.id IS NOT NULL
ON CONFLICT DO NOTHING;
